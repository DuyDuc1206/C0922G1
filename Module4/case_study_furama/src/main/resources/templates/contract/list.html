<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Contract List</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>
    <script src="/jquery-3.6.3.min.js"></script>
    <link rel="stylesheet" href="/bootstrap.min.css">
    <script src="/bootstrap.bundle.min.js"></script>
    <style>
        a.nav-link,
        a.navbar-brand {
            color: #E18665
        }

        .navbar {
            background-color: #046056;
        }

        button.save,
        a.save {
            background-color: #046056;
            color: white;
        }

        .fs-3,
        .modal-title {
            color: #046056;
            font-weight: bold;
        }

        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        main {
            flex: 1;
        }

        footer {
            margin-top: auto;
        }

        .box {
            width: 50%;
        }

        .st0 {
            fill: transparent;
            stroke: darkviolet;
            stroke-width: 3;
            stroke-miterlimit: 10;
            stroke-dasharray: 1800;
            stroke-dashoffset: 0;
            animation: effectText 3s ease-in-out infinite alternate;
        }

        @keyframes effectText {
            from {
                fill: transparent;
                stroke-dashoffset: 1800;
            }
            to {
                fill: darkviolet;
                stroke-dashoffset: 0;
            }
        }
    </style>
</head>
<body>
<div class="d-flex justify-content-center align-items-center">
    <div class="box">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
             x="0px" y="0px"
             viewBox="0 0 925 241" style="enable-background:new 0 0 925 241;" xml:space="preserve">
        <path class="st0" d="M45.02,193.89c-4.7,0-8.28-1.23-10.73-3.69c-2.46-2.46-3.69-5.53-3.69-9.21c0-5.13,1.53-10.33,4.61-15.61
		c3.07-5.27,7.1-10.44,12.09-15.5c4.99-5.06,10.37-9.79,16.15-14.2c4.05-28.62,9.36-58.32,15.93-89.1c0.5-1.81,1.55-2.71,3.14-2.71
		c0.79,0,1.48,0.29,2.06,0.87c0.58,0.58,0.87,1.3,0.87,2.17c0,0.51-0.11,1.16-0.33,1.95c-2.38,6.79-5.22,18.21-8.51,34.25
		c-3.29,16.04-6.16,32.45-8.62,49.21l3.58-2.49c0.94,0,1.41,0.4,1.41,1.19c0,0.07,0,0.16,0,0.27s-0.11,0.27-0.33,0.49l-5.09,3.69
		c-2.02,13.73-3.04,24.9-3.04,33.5c0,0.8-0.51,1.19-1.52,1.19c-1.45,0-2.17-0.69-2.17-2.06c0-8.02,0.72-17.78,2.17-29.27
		c-2.75,2.17-6.22,5.24-10.41,9.21c-13.15,12.21-19.73,23.2-19.73,32.95c0,3.18,1.01,5.76,3.04,7.75c2.02,1.99,5.06,2.98,9.11,2.98
		c16.91,0,33.82-6.86,50.73-20.6c10.98-8.89,20.94-19.26,29.86-31.11c8.92-11.85,16.04-24.48,21.35-37.89
		c5.31-13.4,7.97-26.72,7.97-39.94c0-7.08-1.32-13.3-3.96-18.64c-2.64-5.35-6.5-9.54-11.6-12.57s-11.47-4.55-19.13-4.55
		c-10.12,0-19.6,1.35-28.45,4.06c-8.85,2.71-16.95,6.29-24.28,10.73c-7.34,4.44-13.89,9.38-19.67,14.8
		c-8.31,7.66-14.78,15.16-19.4,22.49c-4.63,7.34-6.94,14.47-6.94,21.41c0,1.3-0.65,1.99-1.95,2.06c-1.45,0-2.17-0.69-2.17-2.06
		c0-4.84,2.53-11.47,7.59-19.89c5.06-8.42,12.21-17,21.46-25.74c9.03-8.31,19.8-15.43,32.3-21.35c12.57-5.85,26.41-8.78,41.52-8.78
		c7.8,0,14.69,1.39,20.65,4.17c5.96,2.78,10.64,6.99,14.04,12.63c3.4,5.64,5.09,12.72,5.09,21.25c0,13.22-2.64,26.61-7.91,40.16
		c-5.28,13.55-12.38,26.38-21.3,38.48c-8.93,12.1-19.13,22.78-30.62,32.03C82.64,186.88,64.25,193.89,45.02,193.89z"/>
            <path class="st0" d="M197.54,141.53c-8.89,0-13.51-3.54-13.88-10.62c0-2.38,0.04-3.65,0.11-3.79c-2.53,2.46-5.2,4.72-8.02,6.77
		s-5.67,3.09-8.56,3.09c-4.84,0-7.52-1.26-8.02-3.79l-0.11-1.73c0-3.54,1.99-7.88,5.96-13.01c0.43-0.79,1.23-1.19,2.38-1.19
		c1.88,0,2.82,0.61,2.82,1.84l-0.33,0.54c-3.83,5.93-5.75,10.23-5.75,12.9c0,1.45,1.01,2.17,3.04,2.17c2.02,0,4.26-0.83,6.72-2.49
		c4.55-2.89,8.71-6.65,12.47-11.27l0.76-0.98c0.43-0.72,0.87-1.32,1.3-1.79c0.43-0.47,1.48-0.7,3.14-0.7
		c1.3,0.36,1.95,0.94,1.95,1.73l-0.33,0.65c-2.38,3.54-3.58,7.37-3.58,11.49c0,2.1,0.7,3.96,2.11,5.58s3.34,2.44,5.8,2.44
		c6.65,0,16.84-2.67,30.57-8.02l19.4-8.24c0.79,0,1.19,0.36,1.19,1.08c0,0.65-0.18,0.98-0.54,0.98c-0.15,0.15-2.06,1.01-5.75,2.6
		C221.68,136.94,206.72,141.53,197.54,141.53z"/>
            <path class="st0" d="M252.06,143.27c-3.4,0-6.07-0.78-8.02-2.33c-1.95-1.55-2.93-3.78-2.93-6.67c0.43-4.91,2.13-8.76,5.09-11.54
		c2.96-2.78,5.82-4.17,8.56-4.17c1.16,0,2.06,0.27,2.71,0.81s0.98,1.72,0.98,3.52c-0.15,0.51-0.58,0.76-1.3,0.76
		c-0.58,0-0.94-0.33-1.08-0.98l0.11-0.43c0-0.65-0.33-0.98-0.98-0.98c-1.66,0-3.34,0.92-5.04,2.76c-1.7,1.84-2.98,4.64-3.85,8.4
		v0.22c-0.14,0.87-0.22,1.63-0.22,2.28c0,4.05,1.99,6.07,5.96,6.07c7.15,0,16.17-1.79,27.05-5.37c10.88-3.58,22.09-7.71,33.66-12.41
		c0.58,0,0.98,0.11,1.19,0.33s0.33,0.61,0.33,1.19l-0.33,0.43c-0.43,0.29-2.87,1.34-7.32,3.14c-4.45,1.81-10.01,3.87-16.69,6.18
		c-6.69,2.31-13.46,4.35-20.33,6.12C262.76,142.38,256.91,143.27,252.06,143.27z"/>
            <path class="st0" d="M417.16,189.77c-2.46,0-4.64-1.41-6.56-4.23c-1.92-2.82-2.87-6.61-2.87-11.38c0-9.83,0.85-19.66,2.55-29.48
		c1.7-9.83,3.74-19.98,6.13-30.46c2.46-10.55,4.53-20.99,6.23-31.33c1.7-10.33,2.55-20.45,2.55-30.35c0-10.19-1.81-15.28-5.42-15.28
		c-3.25,0-6.79,1.75-10.62,5.26c-3.83,3.51-7.73,8.29-11.71,14.36c-3.98,6.07-7.8,12.97-11.49,20.7
		c-12.07,25.37-20.49,50.44-25.26,75.23c-0.72,3.9-1.08,7.77-1.08,11.6c0,3.76,0.18,6.79,0.54,9.11c0,1.3-0.65,1.99-1.95,2.06
		c-1.45,0-2.17-0.65-2.17-1.95c0.29-11.71,2.6-25.53,6.94-41.46s9.94-31.6,16.8-46.99c6.86-15.39,14.24-28.04,22.11-37.94
		c6.07-8.17,12.03-12.25,17.89-12.25c3.54,0.15,6.02,1.73,7.42,4.77c1.41,3.04,2.11,7.3,2.11,12.79c0,10.7-0.9,21.32-2.71,31.87
		c-1.81,10.55-3.87,20.96-6.18,31.22c-2.17,9.97-4.1,19.82-5.8,29.54c-1.7,9.72-2.55,19.39-2.55,29c0,8.24,1.73,12.72,5.2,13.44
		c3.11,0,6.92-3.29,11.44-9.86c4.52-6.58,9.18-15.41,13.98-26.5c4.8-11.09,9.47-23.38,13.98-36.86
		c4.52-13.48,8.54-27.21,12.09-41.19c3.54-13.98,6.21-27.19,8.02-39.62c0.22-2.46,0.33-4.81,0.33-7.05c0-2.96-0.18-5.67-0.54-8.13
		c0-0.65,0.13-1.19,0.38-1.63c0.25-0.43,0.81-0.65,1.68-0.65c1.44,0,2.17,0.76,2.17,2.28c0,2.96-0.33,6.11-0.98,9.43
		c-0.29,1.88-0.54,3.9-0.76,6.07c-3.54,23.05-9.4,47.5-17.56,73.33c-8.17,25.84-17.2,47.57-27.1,65.2
		c-2.89,5.35-5.82,9.5-8.78,12.47C422.86,188.14,420.04,189.77,417.16,189.77z"/>
            <path class="st0" d="M491.95,124.41c-0.8,1.52-1.52,3-2.17,4.44c-1.01,2.02-1.92,3.76-2.71,5.2c-0.8,1.45-1.92,3.18-3.36,5.2
		c-1.73,3.04-3.79,4.55-6.18,4.55c-3.83-0.5-5.75-2.78-5.75-6.83c0-4.05,1.77-8.08,5.31-12.09s7.44-6.02,11.71-6.02
		c1.44,0,2.46,0.25,3.04,0.76l0.22-0.33c1.37-3.11,2.85-5.09,4.44-5.96c0.07-0.07,0.2-0.14,0.38-0.22c0.18-0.07,0.34-0.11,0.49-0.11
		c1.59,0,2.62,0.69,3.09,2.06c0.47,1.37,0.7,3.22,0.7,5.53c0,12.29-1.27,24.68-3.79,37.18c20.09-7.73,43.83-19.26,71.22-34.58
		c1.01,0,1.52,0.4,1.52,1.19c0,0.29-0.18,0.54-0.54,0.76c-27.68,15.61-51.92,27.35-72.74,35.23c-4.12,19.95-11.31,37.22-21.57,51.81
		c-10.26,14.67-23.41,22.37-39.46,23.09c-5.56,0-10.12-1.97-13.66-5.91c-3.54-3.94-5.31-8.76-5.31-14.47
		c0-10.7,3.61-19.01,10.84-24.93c7.08-6,17.2-11.6,30.35-16.8c6.5-2.53,11.35-4.41,14.53-5.64c2.53-1.01,5.26-2.1,8.18-3.25
		c2.93-1.16,6.99-2.78,12.19-4.88c3.04-13.51,4.55-26.3,4.55-38.37c0-3.47-0.07-5.27-0.22-5.42c-0.87,0.58-2.17,2.53-3.9,5.85
		c0.36,0.43,0.54,1.16,0.54,2.17c0,0.8-0.4,1.19-1.19,1.19C492.35,124.84,492.09,124.7,491.95,124.41z M435.8,233.02
		c7.15,0,13.71-1.95,19.67-5.85c5.96-3.9,11.35-9.21,16.15-15.94c4.81-6.72,8.96-14.38,12.46-22.98c3.5-8.6,6.27-17.31,8.29-26.12
		c-1.88,0.72-4.01,1.55-6.4,2.49c-13.08,4.92-24.39,9.45-33.93,13.6c-9.54,4.16-17.2,8.65-22.98,13.5
		C422.36,197,419,204.73,419,214.92c0,5.13,1.5,9.43,4.5,12.9C426.5,231.29,430.6,233.02,435.8,233.02z M477.53,141.53
		c1.59,0,3.32-1.53,5.2-4.61c1.88-3.07,4.3-7.57,7.26-13.5l0.33-0.76c-0.07-0.07-0.36-0.11-0.87-0.11c-2.96,0-5.93,1.66-8.89,4.99
		c-2.96,3.32-4.44,6.87-4.44,10.62C476.12,140.41,476.59,141.53,477.53,141.53z"/>
            <path class="st0" d="M602.73,141.53c-8.89,0-13.51-3.54-13.88-10.62c0-2.38,0.04-3.65,0.11-3.79c-2.53,2.46-5.2,4.72-8.02,6.77
		s-5.67,3.09-8.56,3.09c-4.84,0-7.51-1.26-8.02-3.79l-0.11-1.73c0-3.54,1.99-7.88,5.96-13.01c0.43-0.79,1.23-1.19,2.38-1.19
		c1.88,0,2.82,0.61,2.82,1.84l-0.33,0.54c-3.83,5.93-5.75,10.23-5.75,12.9c0,1.45,1.01,2.17,3.04,2.17c2.02,0,4.26-0.83,6.72-2.49
		c4.55-2.89,8.71-6.65,12.47-11.27l0.76-0.98c0.43-0.72,0.87-1.32,1.3-1.79c0.43-0.47,1.48-0.7,3.14-0.7
		c1.3,0.36,1.95,0.94,1.95,1.73l-0.33,0.65c-2.38,3.54-3.58,7.37-3.58,11.49c0,2.1,0.71,3.96,2.11,5.58
		c1.41,1.63,3.34,2.44,5.8,2.44c6.65,0,16.84-2.67,30.57-8.02l19.4-8.24c0.79,0,1.19,0.36,1.19,1.08c0,0.65-0.18,0.98-0.54,0.98
		c-0.15,0.15-2.06,1.01-5.75,2.6C626.87,136.94,611.91,141.53,602.73,141.53z"/>
            <path class="st0" d="M677.2,166.46c-4.41,11.42-9.79,21.72-16.15,30.89c-6.43,9.25-13.22,13.88-20.38,13.88
		c-2.09,0-3.92-0.67-5.47-2.01c-1.55-1.34-2.33-3.38-2.33-6.12c0-6.87,4.59-13.59,13.77-20.16c7.08-5.49,15.68-10.98,25.8-16.48
		c6.5-15.61,9.76-28.4,9.76-38.37c0-1.81-0.22-2.71-0.65-2.71c-1.01,0-4.44,2.75-10.3,8.24c-1.52,1.52-3.69,3.31-6.5,5.37
		s-5.57,3.09-8.24,3.09c-5.2,0-7.84-2.24-7.91-6.72c0-4.99,1.16-9.94,3.47-14.85c0.22-0.79,0.94-1.19,2.17-1.19
		c1.66,0,2.53,0.54,2.6,1.63c0,0.51-0.33,1.59-0.98,3.25c-1.52,2.6-2.28,6.36-2.28,11.27c0,2.6,0.98,4.08,2.93,4.44
		c3.04,0,6.2-1.53,9.48-4.61c3.29-3.07,5.26-4.9,5.91-5.47c1.44-1.37,3.09-2.82,4.93-4.34c1.84-1.52,3.38-2.28,4.61-2.28
		c1.3,0.07,2.44,0.69,3.41,1.84c0.98,1.16,1.46,2.82,1.46,4.99c0,7.3-2.6,18.36-7.8,33.17c0.14-0.14,7.77-4.01,22.87-11.6
		c19.51-9.39,36.28-18.79,50.3-28.18c0.14-0.14,0.27-0.22,0.38-0.22c0.11,0,0.2,0,0.27,0c0.72,0,1.08,0.36,1.08,1.08
		c0,0.15-0.04,0.29-0.11,0.43c-0.07,0.15-0.18,0.29-0.33,0.43c-14.24,9.4-31.11,18.83-50.62,28.29c-4.84,2.46-9.21,4.7-13.12,6.72
		C685.4,162.2,681.39,164.3,677.2,166.46z M640.78,209.06c3.04,0,6.34-1.81,9.92-5.42c3.58-3.61,7.17-8.47,10.79-14.58
		c3.61-6.11,6.83-12.52,9.65-19.24c-23.92,12.86-35.88,23.96-35.88,33.28c0,2.02,0.51,3.52,1.52,4.5
		C637.78,208.58,639.12,209.06,640.78,209.06z"/>
            <path class="st0" d="M760.02,142.51c-7.8,0-11.89-3.29-12.25-9.86c0-3.61,1.01-6.79,3.04-9.54c2.02-2.75,4.95-4.23,8.78-4.44
		c1.08,0,2.06,0.29,2.93,0.87c0.87,0.58,1.3,1.41,1.3,2.49c0,2.46-1.23,4.19-3.69,5.2c-2.46,1.01-4.88,1.52-7.26,1.52
		c-0.22,1.01-0.33,2.21-0.33,3.58c0,2.38,0.67,4.3,2.01,5.75c1.34,1.45,3.16,2.17,5.47,2.17c5.49,0,11.31-0.79,17.45-2.38
		c6.14-1.59,12.39-3.69,18.75-6.29c6.36-2.6,12.72-5.38,19.08-8.35c0.36,0,0.7,0.07,1.03,0.22c0.32,0.15,0.49,0.47,0.49,0.98
		c0,0.15-0.05,0.33-0.16,0.54c-0.11,0.22-0.24,0.33-0.38,0.33c-0.15,0.15-2.06,1.08-5.75,2.82s-8.38,3.72-14.09,5.96
		c-5.71,2.24-11.8,4.21-18.26,5.91C771.71,141.66,765.66,142.51,760.02,142.51z M753.52,126.57c1.88-0.07,3.69-0.47,5.42-1.19
		c1.73-0.72,2.6-1.84,2.6-3.36c0-0.72-0.65-1.08-1.95-1.08C756.91,120.94,754.89,122.82,753.52,126.57z"/>
            <path class="st0" d="M809.12,144.46c-1.23,0-1.84-0.72-1.84-2.17c0-1.73,0.71-4.77,2.11-9.11c1.41-4.34,2.91-8.13,4.5-11.38
		c0.8-1.3,1.84-2.02,3.14-2.17c2.02,0,3.04,0.72,3.04,2.17v0.11c0,0.36-0.15,0.8-0.43,1.3c-3.18,5.71-5.56,10.77-7.15,15.18
		c3.18-3.32,6.97-6.68,11.38-10.08c4.41-3.4,7.95-5.09,10.62-5.09c2.38,0,4.28,0.43,5.69,1.3c1.41,0.87,2.49,1.97,3.25,3.31
		c0.76,1.34,1.46,2.69,2.11,4.06c0.58,1.81,1.35,3.34,2.33,4.61c0.97,1.27,2.51,1.9,4.61,1.9c6.65,0,17.42-2.49,32.3-7.48l19.73-7.7
		h0.11l0.22-0.22c0.5,0.22,0.83,0.42,0.98,0.6c0.14,0.18,0.22,0.45,0.22,0.81c0,0.07,0,0.18,0,0.33c0,0.15-0.11,0.33-0.33,0.54
		l-5.96,2.38c-21.75,8.67-37.51,13.01-47.26,13.01c-5.78,0-9.61-1.23-11.49-3.69c-1.81-2.6-2.96-5.09-3.47-7.48
		c-0.29-1.08-0.65-2.06-1.08-2.93c-0.22-0.72-0.87-1.08-1.95-1.08c-2.53,0-6.07,1.9-10.62,5.69s-8.92,7.93-13.12,12.41l-0.11,0.22
		c-0.14,0.07-0.33,0.2-0.54,0.38C809.88,144.37,809.56,144.46,809.12,144.46z"/>
        </svg>
    </div>
</div>
<header th:insert="~{index::header}"></header>
<main class="container-fluid">
    <div class="container d-flex justify-content-between mt-2">
        <button id="addContract" class="btn btn-primary save" data-bs-toggle="modal" data-bs-target="#addContractModal">
            ADD CONTRACT <i
                class="fas fa-plus-square"></i>
        </button>
    </div>
    <p class="text-center fs-3 ">List Contract</p>
    <table class="table table-striped table-bordered">
        <thead>
        <tr>
            <th>No.</th>
            <th>Facility</th>
            <th>Customer</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Deposit</th>
            <th>Total</th>
            <th>Attach Facility</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="contractDto,status:${contractDtoPage}">
            <th th:text="${status.count} + ${contractDtoPage.number} * ${contractDtoPage.size}"></th>
            <td th:text="${contractDto.facilityName}"></td>
            <td th:text="${contractDto.customerName}"></td>
            <td th:text="${contractDto.startDate}"></td>
            <td th:text="${contractDto.endDate}"></td>
            <td class="col-1" th:text="${contractDto.deposit}"></td>
            <td class="col-1" th:text="${contractDto.total}"></td>
            <td class="d-flex justify-content-around">
                <button th:attr="onclick=|addAttachFacility('${contractDto.contractId}')|"
                        class="btn btn-outline-primary"
                        data-bs-toggle="modal" data-bs-target="#addModal"><i
                        class="fas fa-plus-square"></i></button>
                <button th:attr="onclick=|showAttach('${contractDto.contractId}')|" class="btn btn-outline-primary"
                        data-bs-toggle="modal" data-bs-target="#displayModal">Attach
                    Facility List
                </button>
            </td>
        </tr>
        </tbody>
    </table>
    <div class="d-flex justify-content-center align-items-center mb-2">
        <a class="btn btn-outline-primary save me-2" th:href="@{/contract(page=${contractDtoPage.number - 1})}"
           th:if="${contractDtoPage.hasPrevious()}"><i class="fas fa-arrow-left"></i></a>
        <a class="btn btn-outline-primary me-2 disabled"
           th:unless="${contractDtoPage.hasPrevious()}"><i class="fas fa-arrow-left"></i></a>
        <span th:text="${contractDtoPage.number+1}"></span>/<span th:text="${contractDtoPage.totalPages}"></span>
        <a class="btn btn-outline-primary save ms-2" th:href="@{/contract(page=${contractDtoPage.number + 1})}"
           th:if="${contractDtoPage.hasNext()}"><i
                class="fas fa-arrow-right"></i></a>
        <a class="btn btn-outline-primary ms-2 disabled" th:unless="${contractDtoPage.hasNext()}"><i
                class="fas fa-arrow-right"></i></a>
    </div>
</main>
<footer th:insert="~{index::footer}"></footer>

<!-- Modal Add Contract-->
<div class="modal fade" id="addContractModal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalLabel">Add Contract</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form th:action="@{/save}" id="addContractForm" method="post" th:object="${contractDto}">
                    <div class="row">
                        <input type="text" th:field="*{id}" hidden>
                        <div class="mb-3">
                            <label class="form-label">Start Date</label>
                            <input type="date" class="form-control" th:field="*{startDate}">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">End Date</label>
                            <input type="date" class="form-control" th:field="*{endDate}">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Deposit</label>
                            <input type="number" class="form-control" th:field="*{deposit}">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Total</label>
                            <input type="text" class="form-control" disabled >
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Customer</label>
                            <select class="form-select" th:field="*{customer}">
                                <option th:value="${''}">Search Customer</option>
                                <option th:each="cus:${customerList}" th:value="${cus.id}" th:text="${cus.name}"></option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Customer</label>
                            <select class="form-select" th:field="*{employee}">
                                <option th:value="${''}">Search Employee</option>
                                <option th:each="emp:${employeeList}" th:value="${emp.id}" th:text="${emp.name}"></option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Facility</label>
                            <select class="form-select" th:field="*{facility}">
                                <option th:value="${''}">Search facility</option>
                                <option th:each="fac:${facilityList}" th:value="${fac.id}" th:text="${fac.name}"></option>
                            </select>
                        </div>
<!--                        <div class="mb-3">-->
<!--                            <label class="form-label">Attach Facility</label>-->
<!--                            <button type="button" class="btn btn-primary" id="addAttachFacilityInContract" data-bs-toggle="modal"-->
<!--                                    data-bs-target="#addAttachModal">+-->
<!--                            </button>-->
<!--                        </div>-->

                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-md" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary btn-md save" form="addContractForm">Save Changes</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Add Attach Facility in Contract-->
<div class="modal fade" id="addAttachModal" tabindex="-1" aria-labelledby="label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="label">Add Attach Facility</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="mb-3">
                        <label class="form-label">Attach Facility Name </label><br>
                        <select class="form-select" id="attachFacilityId">
                            <option th:each="attachFacility:${attachFacilityList}" th:value="${attachFacility.id}"
                                    th:text="${attachFacility.name}"></option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Quantity</label>
                        <input id="quantityId" type="number" class="form-control">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-md" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary btn-md save" form="addForm">Save Changes</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Add Attach Facility-->
<div class="modal fade" id="addModal" tabindex="-1" aria-labelledby="addModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addModalLabel">Add Attach Facility</h5>
            </div>
            <div class="modal-body">
                <form th:action="@{/attach-facility/add}" id="addForm" method="post" th:object="${contractDetail}">
                    <div class="row">
                        <input type="text" id="contractId" hidden th:field="*{contract}">
                        <div class="mb-3">
                            <label class="form-label">Attach Facility Name </label><br>
                            <select class="form-select" th:field="*{attachFacility}">
                                <option th:each="attachFacility:${attachFacilityList}" th:value="${attachFacility.id}"
                                        th:text="${attachFacility.name}"></option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Quantity</label>
                            <input th:field="*{quantity}" type="number" class="form-control">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-md" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary btn-md save" form="addForm">Save Changes</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Attach-->
<div class="modal fade" id="displayModal" tabindex="-1" aria-labelledby="attModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="attModalLabel">Attach Facility</h5>
            </div>
            <div class="modal-body">
                <table class="table table-striped table-bordered">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Cost</th>
                        <th>Status</th>
                        <th>Unit</th>
                        <th>Quantity</th>
                    </tr>
                    </thead>
                    <tbody id="attach">
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-md" data-bs-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>

<script>
    function showAttach(id) {
        $.ajax({
            type: "Get",
            dataType: "Json",
            url: "http://localhost:8080/attach-facility/" + id,
            success: function (data) {
                let content = '';
                for (let i = 0; i < data.length; i++) {
                    content += `<tr>`
                    // content += `<td>${data[i].contractId}</td>`
                    content += `<td>${data[i].name}</td>`
                    content += `<td>${data[i].cost}</td>`
                    content += `<td>${data[i].status}</td>`
                    content += `<td>${data[i].unit}</td>`
                    content += `<td>${data[i].quantity}</td>`
                }
                $('#attach').html(content);
            }
        })
    }

    // Add attachFacility
    function addAttachFacility(idContract) {
        document.getElementById("contractId").value = idContract;
    }
</script>

</body>
</html>